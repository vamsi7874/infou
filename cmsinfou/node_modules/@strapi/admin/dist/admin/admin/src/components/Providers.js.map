{"version":3,"file":"Providers.js","sources":["../../../../../admin/src/components/Providers.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { Provider } from 'react-redux';\n\nimport { AuthProvider } from '../features/Auth';\nimport { HistoryProvider } from '../features/BackButton';\nimport { ConfigurationProvider } from '../features/Configuration';\nimport { NotificationsProvider } from '../features/Notifications';\nimport { StrapiAppProvider } from '../features/StrapiApp';\nimport { TrackingProvider } from '../features/Tracking';\n\nimport { GuidedTourContext } from './GuidedTour/Context';\nimport { LanguageProvider } from './LanguageProvider';\nimport { Theme } from './Theme';\n\nimport type { Store } from '../core/store/configure';\nimport type { StrapiApp } from '../StrapiApp';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\ninterface ProvidersProps {\n  children: React.ReactNode;\n  strapi: StrapiApp;\n  store: Store;\n}\n\nconst Providers = ({ children, strapi, store }: ProvidersProps) => {\n  const isGuidedTourEnabled = process.env.NODE_ENV !== 'test';\n\n  return (\n    <StrapiAppProvider\n      components={strapi.library.components}\n      customFields={strapi.customFields}\n      widgets={strapi.widgets}\n      fields={strapi.library.fields}\n      menu={strapi.router.menu}\n      getAdminInjectedComponents={strapi.getAdminInjectedComponents}\n      getPlugin={strapi.getPlugin}\n      plugins={strapi.plugins}\n      rbac={strapi.rbac}\n      runHookParallel={strapi.runHookParallel}\n      runHookWaterfall={(name, initialValue) => strapi.runHookWaterfall(name, initialValue, store)}\n      runHookSeries={strapi.runHookSeries}\n      settings={strapi.router.settings}\n    >\n      <Provider store={store}>\n        <QueryClientProvider client={queryClient}>\n          <AuthProvider>\n            <HistoryProvider>\n              <LanguageProvider messages={strapi.configurations.translations}>\n                <Theme themes={strapi.configurations.themes}>\n                  <NotificationsProvider>\n                    <TrackingProvider>\n                      <GuidedTourContext enabled={isGuidedTourEnabled}>\n                        <ConfigurationProvider\n                          defaultAuthLogo={strapi.configurations.authLogo}\n                          defaultMenuLogo={strapi.configurations.menuLogo}\n                          showReleaseNotification={strapi.configurations.notifications.releases}\n                        >\n                          {children}\n                        </ConfigurationProvider>\n                      </GuidedTourContext>\n                    </TrackingProvider>\n                  </NotificationsProvider>\n                </Theme>\n              </LanguageProvider>\n            </HistoryProvider>\n          </AuthProvider>\n        </QueryClientProvider>\n      </Provider>\n    </StrapiAppProvider>\n  );\n};\n\nexport { Providers };\n"],"names":["queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","Providers","children","strapi","store","isGuidedTourEnabled","process","env","NODE_ENV","_jsx","StrapiAppProvider","components","library","customFields","widgets","fields","menu","router","getAdminInjectedComponents","getPlugin","plugins","rbac","runHookParallel","runHookWaterfall","name","initialValue","runHookSeries","settings","Provider","QueryClientProvider","client","AuthProvider","HistoryProvider","LanguageProvider","messages","configurations","translations","Theme","themes","NotificationsProvider","TrackingProvider","GuidedTourContext","enabled","ConfigurationProvider","defaultAuthLogo","authLogo","defaultMenuLogo","menuLogo","showReleaseNotification","notifications","releases"],"mappings":";;;;;;;;;;;;;;;;AAmBA,MAAMA,WAAAA,GAAc,IAAIC,sBAAY,CAAA;IAClCC,cAAgB,EAAA;QACdC,OAAS,EAAA;YACPC,oBAAsB,EAAA;AACxB;AACF;AACF,CAAA,CAAA;AAQMC,MAAAA,SAAAA,GAAY,CAAC,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,KAAK,EAAkB,GAAA;AAC5D,IAAA,MAAMC,mBAAsBC,GAAAA,OAAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,MAAA;AAErD,IAAA,qBACEC,cAACC,CAAAA,2BAAAA,EAAAA;QACCC,UAAYR,EAAAA,MAAAA,CAAOS,OAAO,CAACD,UAAU;AACrCE,QAAAA,YAAAA,EAAcV,OAAOU,YAAY;AACjCC,QAAAA,OAAAA,EAASX,OAAOW,OAAO;QACvBC,MAAQZ,EAAAA,MAAAA,CAAOS,OAAO,CAACG,MAAM;QAC7BC,IAAMb,EAAAA,MAAAA,CAAOc,MAAM,CAACD,IAAI;AACxBE,QAAAA,0BAAAA,EAA4Bf,OAAOe,0BAA0B;AAC7DC,QAAAA,SAAAA,EAAWhB,OAAOgB,SAAS;AAC3BC,QAAAA,OAAAA,EAASjB,OAAOiB,OAAO;AACvBC,QAAAA,IAAAA,EAAMlB,OAAOkB,IAAI;AACjBC,QAAAA,eAAAA,EAAiBnB,OAAOmB,eAAe;AACvCC,QAAAA,gBAAAA,EAAkB,CAACC,IAAMC,EAAAA,YAAAA,GAAiBtB,OAAOoB,gBAAgB,CAACC,MAAMC,YAAcrB,EAAAA,KAAAA,CAAAA;AACtFsB,QAAAA,aAAAA,EAAevB,OAAOuB,aAAa;QACnCC,QAAUxB,EAAAA,MAAAA,CAAOc,MAAM,CAACU,QAAQ;AAEhC,QAAA,QAAA,gBAAAlB,cAACmB,CAAAA,mBAAAA,EAAAA;YAASxB,KAAOA,EAAAA,KAAAA;AACf,YAAA,QAAA,gBAAAK,cAACoB,CAAAA,8BAAAA,EAAAA;gBAAoBC,MAAQlC,EAAAA,WAAAA;AAC3B,gBAAA,QAAA,gBAAAa,cAACsB,CAAAA,iBAAAA,EAAAA;AACC,oBAAA,QAAA,gBAAAtB,cAACuB,CAAAA,0BAAAA,EAAAA;AACC,wBAAA,QAAA,gBAAAvB,cAACwB,CAAAA,iCAAAA,EAAAA;4BAAiBC,QAAU/B,EAAAA,MAAAA,CAAOgC,cAAc,CAACC,YAAY;AAC5D,4BAAA,QAAA,gBAAA3B,cAAC4B,CAAAA,WAAAA,EAAAA;gCAAMC,MAAQnC,EAAAA,MAAAA,CAAOgC,cAAc,CAACG,MAAM;AACzC,gCAAA,QAAA,gBAAA7B,cAAC8B,CAAAA,mCAAAA,EAAAA;AACC,oCAAA,QAAA,gBAAA9B,cAAC+B,CAAAA,yBAAAA,EAAAA;AACC,wCAAA,QAAA,gBAAA/B,cAACgC,CAAAA,yBAAAA,EAAAA;4CAAkBC,OAASrC,EAAAA,mBAAAA;AAC1B,4CAAA,QAAA,gBAAAI,cAACkC,CAAAA,mCAAAA,EAAAA;gDACCC,eAAiBzC,EAAAA,MAAAA,CAAOgC,cAAc,CAACU,QAAQ;gDAC/CC,eAAiB3C,EAAAA,MAAAA,CAAOgC,cAAc,CAACY,QAAQ;AAC/CC,gDAAAA,uBAAAA,EAAyB7C,MAAOgC,CAAAA,cAAc,CAACc,aAAa,CAACC,QAAQ;AAEpEhD,gDAAAA,QAAAA,EAAAA;;;;;;;;;;;;AAa3B;;;;"}