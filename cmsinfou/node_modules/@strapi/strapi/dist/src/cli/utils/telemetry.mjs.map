{"version":3,"file":"telemetry.mjs","sources":["../../../../src/cli/utils/telemetry.ts"],"sourcesContent":["import { generateInstallId, env } from '@strapi/utils';\n\nexport const sendEvent = async (event: string, uuid: string, installId?: any) => {\n  const analyticsUrl = env('STRAPI_ANALYTICS_URL', 'https://analytics.strapi.io');\n  try {\n    await fetch(`${analyticsUrl}/api/v2/track`, {\n      method: 'POST',\n      body: JSON.stringify({\n        event,\n        deviceId: generateInstallId(uuid, installId),\n        groupProperties: { projectId: uuid },\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Strapi-Event': event,\n      },\n    });\n  } catch (e) {\n    // ...\n  }\n};\n"],"names":["sendEvent","event","uuid","installId","analyticsUrl","env","fetch","method","body","JSON","stringify","deviceId","generateInstallId","groupProperties","projectId","headers","e"],"mappings":";;AAEaA,MAAAA,SAAAA,GAAY,OAAOC,KAAAA,EAAeC,IAAcC,EAAAA,SAAAA,GAAAA;IAC3D,MAAMC,YAAAA,GAAeC,IAAI,sBAAwB,EAAA,6BAAA,CAAA;IACjD,IAAI;AACF,QAAA,MAAMC,MAAM,CAAC,EAAEF,YAAa,CAAA,aAAa,CAAC,EAAE;YAC1CG,MAAQ,EAAA,MAAA;YACRC,IAAMC,EAAAA,IAAAA,CAAKC,SAAS,CAAC;AACnBT,gBAAAA,KAAAA;AACAU,gBAAAA,QAAAA,EAAUC,kBAAkBV,IAAMC,EAAAA,SAAAA,CAAAA;gBAClCU,eAAiB,EAAA;oBAAEC,SAAWZ,EAAAA;AAAK;AACrC,aAAA,CAAA;YACAa,OAAS,EAAA;gBACP,cAAgB,EAAA,kBAAA;gBAChB,gBAAkBd,EAAAA;AACpB;AACF,SAAA,CAAA;AACF,KAAA,CAAE,OAAOe,CAAG,EAAA;;AAEZ;AACF;;;;"}