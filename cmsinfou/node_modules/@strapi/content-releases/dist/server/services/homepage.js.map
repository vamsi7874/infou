{"version":3,"file":"homepage.js","sources":["../../../server/src/services/homepage.ts"],"sourcesContent":["import type { Core } from '@strapi/types';\n\nimport type { GetUpcomingReleases } from '../../../shared/contracts/homepage';\n\nconst createHomepageService = ({ strapi }: { strapi: Core.Strapi }) => {\n  const MAX_DOCUMENTS = 4;\n\n  return {\n    async getUpcomingReleases(): Promise<GetUpcomingReleases.Response['data']> {\n      const releases = await strapi.db.query('plugin::content-releases.release').findMany({\n        filters: {\n          releasedAt: {\n            $notNull: false,\n          },\n        },\n        orderBy: [{ scheduledAt: 'asc' }],\n        limit: MAX_DOCUMENTS,\n      });\n\n      return releases;\n    },\n  };\n};\n\nexport default createHomepageService;\n"],"names":["createHomepageService","strapi","MAX_DOCUMENTS","getUpcomingReleases","releases","db","query","findMany","filters","releasedAt","$notNull","orderBy","scheduledAt","limit"],"mappings":";;AAIA,MAAMA,qBAAwB,GAAA,CAAC,EAAEC,MAAM,EAA2B,GAAA;AAChE,IAAA,MAAMC,aAAgB,GAAA,CAAA;IAEtB,OAAO;QACL,MAAMC,mBAAAA,CAAAA,GAAAA;YACJ,MAAMC,QAAAA,GAAW,MAAMH,MAAOI,CAAAA,EAAE,CAACC,KAAK,CAAC,kCAAoCC,CAAAA,CAAAA,QAAQ,CAAC;gBAClFC,OAAS,EAAA;oBACPC,UAAY,EAAA;wBACVC,QAAU,EAAA;AACZ;AACF,iBAAA;gBACAC,OAAS,EAAA;AAAC,oBAAA;wBAAEC,WAAa,EAAA;AAAM;AAAE,iBAAA;gBACjCC,KAAOX,EAAAA;AACT,aAAA,CAAA;YAEA,OAAOE,QAAAA;AACT;AACF,KAAA;AACF;;;;"}